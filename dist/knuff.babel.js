/*!
 * Knuff, v0.7.0 - pushstate and popstate-events, but without the "hassle"!
 * https://github.com/oscarpalmer/knuff
 * (c) Oscar Palm√©r, 2019, MIT @license
 */var knuff=function(){var n=window,o=n.document,e=n.location.href,t=Element.prototype,a=Object.prototype;null==t.matches&&(t.matches=t.msMatchesSelector||t.webkitMatchesSelector);var s={hasPop:!1,hasPush:!1,isActive:!1,options:{baseUrl:"".concat(n.location.protocol,"//").concat(n.location.host,"/"),selector:"[data-knuff]",onPop:null,onPush:null}},c=function(t){if(t.substr(0,s.options.baseUrl.length)===s.options.baseUrl)return t;var o=s.options.baseUrl.replace(/\/*$/,"/"),e=t.replace(/^\/*/,"");return"".concat(o).concat(e)},l=function(o){null!=o&&"[object Object]"===a.toString.call(o)&&(Object.keys(o).forEach(function(t){s.options[t]=o[t]}),null!=o.onPop&&"function"==typeof o.onPop&&(s.hasPop=!0),null!=o.onPush&&"function"==typeof o.onPush&&(s.hasPush=!0))},r=function(t){t.state&&s.hasPop&&s.options.onPop.call(t,t,t.state.knuff)},i=function(t){var o=t.target;if(!(!1===o.matches(s.options.selector)||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)){var e=o.getAttribute("data-knuff")||o.href||!1;e!==n.location.href&&!1!==e&&(t.preventDefault(),e=c(e),n.history.pushState({knuff:e},null,e),s.hasPush&&s.options.onPush.call(t,t,e))}};return function(t){s.isActive||(s.isActive=!0,l(t),n.addEventListener("popstate",r),o.addEventListener("click",i),n.history.replaceState({knuff:e},null,e))}}();