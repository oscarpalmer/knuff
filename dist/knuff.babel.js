"use strict";!function(t){var e=t.document,o=t.location.href,n=Array.prototype,a=Element.prototype,c=Object.prototype,l={baseUrl:t.location.protocol+"//"+t.location.host+"/",selector:"[data-knuff]",onPop:null,onPush:null},r=function(t){t.state&&u&&l.onPop.call(t,t,t.state.knuff)},s=function(e){var o=e.target;if(!(!1===o.matches(l.selector)||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){var n,a=o.getAttribute("data-knuff")||o.href||!1;if(a!==t.location.href&&!1!==a)e.preventDefault(),a=(n=a).substr(0,l.baseUrl.length)===l.baseUrl?n:l.baseUrl.replace(/\/*$/,"/")+n.replace(/^\/*/,""),t.history.pushState({knuff:a},null,a),i&&l.onPush.call(e,e,a)}},f=!1,u=!1,i=!1;void 0===a.matches&&(a.matches=a.msMatchesSelector||a.webkitMatchesSelector),t.knuff=function(a){var p;f||(f=!0,p=a,"[object Object]"===c.toString.call(p)&&(n.forEach.call(Object.keys(p),function(t){l[t]=p[t]}),"function"==typeof l.onPop&&(u=!0),"function"==typeof l.onPush&&(i=!0)),t.addEventListener("popstate",r),e.addEventListener("click",s),t.history.replaceState({knuff:o},null,o))}}(window);